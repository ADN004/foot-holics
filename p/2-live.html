<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stream 2 - FootHolics Live</title>
    <meta name="robots" content="noindex, nofollow">
    <link rel="icon" type="image/png" href="../assets/img/logos/site/logo.png">

    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            background: linear-gradient(135deg, #0f0c29 0%, #302b63 50%, #24243e 100%);
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            overflow: hidden;
        }
        body::before {
            content: '';
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background:
                radial-gradient(circle at 20% 50%, rgba(123, 59, 196, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(213, 0, 0, 0.1) 0%, transparent 50%);
            z-index: -1;
        }
        #player-container { position: relative; width: 100vw; height: 100vh; display: flex; align-items: center; justify-content: center; }
        #video-player, iframe { width: 100%; height: 100%; background: #000; }
        iframe { border: none; }
        .branded-watermark {
            position: fixed; top: 20px; left: 20px; z-index: 99999;
            background: linear-gradient(135deg, #D50000 0%, #8B0000 100%);
            color: #fff; padding: 10px 20px; border-radius: 30px;
            font-size: 14px; font-weight: 700; letter-spacing: 1px;
            box-shadow: 0 8px 20px rgba(213, 0, 0, 0.4);
            animation: pulseGlow 3s ease-in-out infinite;
            pointer-events: none; user-select: none; text-transform: uppercase;
            display: flex; align-items: center; gap: 10px;
            backdrop-filter: blur(10px); border: 2px solid rgba(255, 255, 255, 0.1);
        }
        .live-indicator { width: 8px; height: 8px; background: #fff; border-radius: 50%; animation: blink 1.5s ease-in-out infinite; }
        @keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0.3; } }
        @keyframes pulseGlow { 0%, 100% { box-shadow: 0 8px 20px rgba(213, 0, 0, 0.4); } 50% { box-shadow: 0 12px 30px rgba(213, 0, 0, 0.6); } }
        .loading-spinner { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 100; text-align: center; }
        .spinner-ring { width: 80px; height: 80px; border: 4px solid rgba(255, 255, 255, 0.1); border-top: 4px solid #7B3BC4; border-radius: 50%; animation: spin 1s linear infinite; margin: 0 auto; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        .loading-text { color: #fff; font-size: 16px; font-weight: 600; margin-top: 20px; letter-spacing: 2px; text-transform: uppercase; }
        .error-message { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); background: linear-gradient(135deg, rgba(213, 0, 0, 0.95) 0%, rgba(139, 0, 0, 0.95) 100%); color: #fff; padding: 40px 50px; border-radius: 20px; text-align: center; max-width: 500px; z-index: 100; display: none; }
        .error-message h3 { font-size: 28px; margin-bottom: 15px; }
        .error-message p { font-size: 16px; line-height: 1.8; opacity: 0.9; }
        .stream-info { position: fixed; bottom: 20px; right: 20px; background: rgba(0, 0, 0, 0.7); backdrop-filter: blur(10px); color: #fff; padding: 12px 20px; border-radius: 30px; font-size: 13px; font-weight: 600; z-index: 99999; pointer-events: none; }
        @media (max-width: 768px) { .branded-watermark { top: 10px; left: 10px; padding: 8px 16px; font-size: 12px; } .stream-info { bottom: 10px; right: 10px; font-size: 11px; padding: 8px 14px; } }
    </style>
</head>
<body>
    <div class="branded-watermark"><div class="live-indicator"></div><span>LINK 2 - FootHolics.in</span></div>
    <div class="stream-info">HD Quality - Powered by FootHolics</div>
    <div id="player-container">
        <div class="loading-spinner" id="loadingSpinner"><div class="spinner-ring"></div><div class="loading-text">Loading Stream...</div></div>
        <div class="error-message" id="errorMessage"><h3>Stream Unavailable</h3><p>Unable to load this stream.</p></div>
        <video id="video-player" controls playsinline style="display: none;"></video>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/hls.js@1.4.12/dist/hls.min.js"></script>
    <script>
        (function() {
            'use strict';
            const urlParams = new URLSearchParams(window.location.search);
            let streamUrl = urlParams.get('url') || urlParams.get('match') || urlParams.get('get');
            const loadingSpinner = document.getElementById('loadingSpinner');
            const errorMessage = document.getElementById('errorMessage');
            const video = document.getElementById('video-player');
            const playerContainer = document.getElementById('player-container');

            function showError(message) {
                loadingSpinner.style.display = 'none';
                errorMessage.querySelector('p').textContent = message;
                errorMessage.style.display = 'block';
                video.style.display = 'none';
            }

            if (urlParams.get('get')) { try { streamUrl = atob(urlParams.get('get')); } catch (e) { streamUrl = urlParams.get('get'); } }
            if (!streamUrl || streamUrl === '#') { showError('No stream URL provided.'); return; }

            const urlLower = streamUrl.toLowerCase();
            const iframeIndicators = ['.php', '/embed/', '/player/', 'embed.', 'player.', 'sportsonline', 'stream2watch', 'rojadirecta', 'hesgoal', 'totalsportek', 'livesoccertv'];
            const isIframeEmbed = iframeIndicators.some(indicator => urlLower.includes(indicator));
            const isHLS = urlLower.includes('.m3u8') || urlLower.includes('m3u8') || urlLower.includes('/hls/');

            if (isIframeEmbed) {
                loadingSpinner.style.display = 'none';
                const iframe = document.createElement('iframe');
                iframe.src = streamUrl;
                iframe.allow = 'autoplay; fullscreen; picture-in-picture; encrypted-media';
                iframe.allowFullscreen = true;
                iframe.style.cssText = 'width:100%;height:100%;border:none;';
                playerContainer.appendChild(iframe);
                return;
            }

            video.style.display = 'block';
            if (isHLS && Hls.isSupported()) {
                const hls = new Hls({ enableWorker: true, lowLatencyMode: false, backBufferLength: 60, maxBufferLength: 30, fragLoadingTimeOut: 20000, manifestLoadingTimeOut: 20000 });
                hls.loadSource(streamUrl);
                hls.attachMedia(video);
                hls.on(Hls.Events.MANIFEST_PARSED, function() { loadingSpinner.style.display = 'none'; video.play().catch(function() {}); });
                hls.on(Hls.Events.ERROR, function(event, data) {
                    if (data.fatal) {
                        if (data.type === Hls.ErrorTypes.NETWORK_ERROR && data.details === Hls.ErrorDetails.MANIFEST_LOAD_ERROR) {
                            showError('Network error: Unable to load stream. May be CORS restricted or offline.');
                        } else if (data.type === Hls.ErrorTypes.MEDIA_ERROR) { hls.recoverMediaError(); }
                        else { showError('Stream error: ' + (data.details || 'Unable to play')); hls.destroy(); }
                    }
                });
                video.addEventListener('waiting', function() { loadingSpinner.style.display = 'block'; });
                video.addEventListener('playing', function() { loadingSpinner.style.display = 'none'; });
            } else if (isHLS && video.canPlayType('application/vnd.apple.mpegurl')) {
                video.src = streamUrl;
                video.addEventListener('loadedmetadata', function() { loadingSpinner.style.display = 'none'; video.play().catch(function() {}); });
                video.addEventListener('error', function() { showError('Failed to load stream.'); });
            } else {
                video.src = streamUrl;
                video.addEventListener('loadedmetadata', function() { loadingSpinner.style.display = 'none'; video.play().catch(function() {}); });
                video.addEventListener('error', function() { showError('Failed to load video.'); });
            }
            document.addEventListener('contextmenu', function(e) { e.preventDefault(); });
        })();
    </script>
</body>
</html>
